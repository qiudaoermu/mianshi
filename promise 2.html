<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
<script type="text/javascript">
/*
┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  Running Metro Bundler on port 8081.                                         │
│                                                                              │
│  Keep Metro running while developing on any JS projects. Feel free to        │
│  close this tab and run your own Metro instance if you prefer.               │
│                                                                              │
│  https://github.com/facebook/react-native                                    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
*/
function Cromise(fn){

		var arr = []
		

		function resolve(value){
				arr.forEach(function(callback){
						callback(value)
				})

		}

		fn(resolve)
		this.then = function(callback){
			   	arr.push(callback)
			   	return this
		}
}

var c = new Cromise(function(resolve){

	for(var i=0;i<1000;i++){
		//console.log(i) 
		resolve("data")
	}
})

c.then(function(data){
		console.log(data)
})
console.log('dd')

console.log('j')

setTimeout(function() {
  console.log(1)
}, 0);

new Cromise(function(resolve) {
  console.log(2);
  resolve();
  
  console.log(3);
}).then(function() {
    console.log(4);
});
console.log(5);
</script>
</html>
