<!DOCTYPE html>
<html lang="
" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
      // new Promise((resolve) => {
      //   setTimeout(() => {
      //     // 3s后自动触发隐藏动画
      //     console.log('data')
      //     resolve('data')
      //   },3000)
      // }).then(d =>{
      //   // 抛物线完成后，出现+1动画
      //   return new Promise((resolve) => {
      //     setTimeout(() => {
      //       // 抛物线完后 显示+1
      //       console.log('data1')
      //       resolve('data')
      //     },1500)
      //   }).catch(err => console.log(err))
      // }).then(d =>{
      //   // +1动画完成 显示最后的弹出框(+1动画 1.5s)
      //   setTimeout(() => {
      //     console.log('data2')
      //   },1500)
      // }).catch(err => console.log(err))

      // let pr = new Promise((resolve) =>{
      //     // 3s后自动触发隐藏动画
      //     setTimeout(( ) =>{
      //       console.log('data')
      //       resolve('data')
      //     },1000)
      // }).then((d,c) =>{
      //     // 3s后自动触发隐藏动画
      //    setTimeout(() =>{
      //      console.log('data2')
      //      return Promise.resolve('data2')
      //    } ,1000)
      // }).then(d => {
      //     // 3s后自动触发隐藏动画
      //   setTimeout(() =>{
      //     console.log('data3')
      //   },1000)
      //   return Promise.resolve('data3')
      // })
      function pro1() {
        setTimeout(() =>{
          console.log('data')
        },1000)
      }
      function pro2() {
        setTimeout(() =>{
          console.log('data1')
        },1000)
      }
      function pro3() {
        setTimeout(() =>{
          console.log('data2')
        },1000)
      }
      // Promise.resolve()
      //   .then(() => new Promise(resolve => pro1(resolve)))
      //     .then(() => new Promise(resolve => pro2(resolve)))
      //       .then(() => new Promise(resolve => pro3(resolve)))

      function promiseChain (...arg) {
        let c = []
        let d = {}
        debugger
        d.use = function(m) {
          m.forEach(i =>{
            c.push(i)
          })
        }
        d.use(arg)
        let t = Promise.resolve()
        c.forEach(i => {
          t = t.then(() => new Promise(resolve => {
            i(resolve)
          }))
        })
      }
      promiseChain(pro1,pro2,pro3)
      // function start() {
      //   return new Promise((resolve, reject) => {
      //     resolve('start');
      //   });
      // }
      //
      // start()
      //   .then(data => {
      //     // promise start
      //     console.log('result of start: ', data);
      //     return Promise.resolve(1); // p1
      //   })
      //   .then(data => {
      //     // promise p1
      //     console.log('result of p1: ', data);
      //     return Promise.reject(2); // p2
      //   })
      //   .then(data => {
      //     // promise p2
      //     console.log('result of p2: ', data);
      //     return Promise.resolve(3); // p3
      //   })
      //   .catch(ex => {
      //     // promise p3
      //     console.log('ex: ', ex);
      //     return Promise.resolve(4); // p4
      //   })
      //   .then(data => {
      //     // promise p4
      //     console.log('result of p4: ', data);
      //   });
    </script>
  </body>
</html>
